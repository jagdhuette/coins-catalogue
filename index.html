<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Münz-Sammlung Verwaltung</title>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
    <h1>Münz-Sammlung Verwaltung</h1>

    <div class="filter-bar">
        <label>Feingewicht filtern:</label>
        <select id="weightFilter">
            <option value="all">Alle</option>
            <option value="1 Oz" selected>1 Oz</option>
            <option value="1/2 Oz">1/2 Oz</option>
            <option value="1/4 Oz">1/4 Oz</option>
            <option value="1/10 Oz">1/10 Oz</option>
            <option value="2 Oz">2 Oz</option>
            <option value="5 Oz">5 Oz</option>
            <option value="10 Oz">10 Oz</option>
            <option value="1 kg">1 kg</option>
        </select>

        <button class="btn btn-add" onclick="newEntry()">Neue Münze hinzufügen</button>
        
        <input type="file" id="csvUpload" accept=".csv">
        <span id="csvStatus"></span>
    </div>

    <!-- Globales Formular (wird geklont und inline eingefügt) -->
    <div id="formTemplate" class="form-container">
        <h2 id="formTitle">Neue Münze hinzufügen</h2>
        <input type="hidden" id="editId">

        <div class="form-row"><label>Name:</label>           <input type="text" id="name"></div>
        <div class="form-row"><label>Jahr:</label>           <input type="text" id="year"></div>
        <div class="form-row"><label>Land:</label>           <input type="text" id="country"></div>
        <div class="form-row"><label>Nennwert:</label>       <input type="text" id="faceValue"></div>
        <div class="form-row"><label>Feingewicht:</label>    <select id="fineWeight">
            <option>1 Oz</option><option>1/2 Oz</option><option>1/4 Oz</option><option>1/10 Oz</option>
            <option>2 Oz</option><option>5 Oz</option><option>10 Oz</option><option>1 kg</option>
        </select></div>
        <div class="form-row"><label>Gewicht (g):</label>    <input type="text" id="weight"></div>
        <div class="form-row"><label>Material:</label>       <input type="text" id="material"></div>
        <div class="form-row"><label>Auflage:</label>        <input type="text" id="minted"></div>
        <div class="form-row"><label>Kaufpreis (€):</label>  <input type="text" id="purchasePrice"></div>
        <div class="form-row"><label>Kaufdatum:</label>      <input type="date" id="purchaseDate"></div>
        <div class="form-row"><label>Verkaufspreis (€):</label><input type="text" id="sellPrice"></div>
        <div class="form-row"><label>Verkaufsdatum:</label>  <input type="date" id="sellDate"></div>

        <button class="btn btn-save" onclick="saveEntry()">Speichern</button>
        <button class="btn btn-cancel" onclick="cancelEdit()">Abbrechen</button>
    </div>

    <div id="coinsContainer"></div>
</div>

<script src="script.js"></script>
</body>
</html>
